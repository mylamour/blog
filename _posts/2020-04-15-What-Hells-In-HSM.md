---
layout: post
title:  KMS/HSM的一点收益
categories: 安全工程师
kerywords:  企业安全 互联网企业安全
tags:  安全运维 安全架构 DEV 数据安全
---

加密机这种东西在互联网企业并不常见，金融行业可以说是标配。作为数据安全的重要一环。承担着密钥保存，数据加解密，密钥的全生命周期管理等等作用。不过从另一方面思考，数据安全是否更多的依赖策略和战略？

出于一些原因。设计的架构图就不放在这里了。但简单的记录一些问题在此处，看看你有没有考虑到这些问题。一切数据安全的问题，都应该是紧贴具体某个场景的。

软硬件相关（架构，网络，密码学）
* HSM和KMS怎么交互?是否存在KMS不能连接HSM的情况？
* 应用怎么和HSM以及KMS进行交互？ 是否每个应用都要和HSM或KMS交互？
* 如果存在中间件用于和KMS和HSM交互，那么该应用的仅能存储哪些信息就可以支持工作？
* 你需要KMS和HSM提供哪些功能？KMS是否具有单独的HSM模块，而不是单独的HSM机器？
* HSM和KMS分别支持哪些管理方式？远程管理的安全性怎么确保呢？
* 国密局标准和FIPS标准怎么协调实现？
* LMK是否能够导出，不同厂商的LMK在手动输入的情况下有没有可能一致？
* 对称秘钥和非对称秘钥的导出方式呢，自动化程度呢？
* 导出和日常操作的权限管理机制是什么样子的？
* 存储管理员登录凭证的介质是否存储存储其他数据？
* 中间件和HSM和KMS通信是否做到了加密通讯，以及cert认证？（不要认为在自己的IDC就可以不考虑）
* 密钥的分发，导入，验证？
* 多台密码机间如何确保数据一致性，有哪些同步的操作？
* CA系统，金融生态的相关证书怎么样能够安全的存在HSM里，是否支持该功能？（比如NUCC，CFCA，CUP等）
* 你和相关系统的链接是不是要专线，网络访问控制怎么进行，是不是影响到现有的安全策略？
* 当前架构下的性能，吞吐量呢？

（知道和做过真的是两回事啊，hands on 的过程，虽然痛苦，但是可以学到很多东西。希望能从deep knowledge到deep experience的过程能够顺利，预祝自己填坑顺利）

策略和物理相关
* 收货的策略，相关人员角色，验证流程，记录流程，各种意外怎么处理
* 上架的策略，相关人员角色，验证流程，记录流程
* 下架以及数据销毁的策略，验证流程，记录流程
* 备份策略，维护策略，冷备策略，保管策略，保险箱等等
* KSO的角色设定，一些baseline怎么控制等等


# 其他

其实是需要了解PKI体系，基本的密码学知识，以及相应的架构设计等等。 最近在翻译CISO对话系列的文章时，摩根大通的CISO提到的一点确实使我没有想到的，就是金融行业的生态问题。由于具有高度的安全性要求，以及各个机构之间的相互依赖。所以肯定是有许多远超系统本身要考虑的东西。好久没有更新，暂且更新两篇到Blog。数据安全架构的文章，已经拖了1个多月了，什么时候写呢？